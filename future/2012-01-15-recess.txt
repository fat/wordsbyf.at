--- 
title: Recess
date: 15/01/2012

A while back I was getting a batch of CSS code reviewed at [twitter](//twitter.com) and I was feeling pretty awesome about it. I had tested it in every major browser, written helpful comments, avoided unnecessary hacks, used descriptive class names, things were semantic, performant. I had crushed it. It was great. Best CSS ever written. I was a hero!

When i checked my review at the end of the day however, [@mdo](//twitter.com/mdo) had highlighted every single definition block and written next to each one: "property order." Unshipped.

;_;

[@mdo](//twitter.com/mdo) and [@dhg](//twitter.com/dhg) (CSS bros at twitter, github legends, and all around bosses) had gotten together earlier last quarter and came up with a styleguide for CSS development at twitter (Mark has even written about some of his thoughts on the subject over [here](//www.markdotto.com/2011/11/29/css-property-order/)).

So, after having my soul crushed by this new style guide for a while, I set out to write a tool.

[Recess](//twitter.github.com/recess) is just that -- a project for both **linting** and **compiling** your CSS. What this means is that it takes all the cool things that Mark and Dave had thought out on paper and gives you a programatic way of enforcing them.

The current (optional) validations include checking that you're:

- ordering your properties how dave and mark want you to
- not styling classes prefixed with js (ex: `.js-drag`)
- not styling id attributes
- not using underscores in your selectors
- not overqualifying your selectors (ex: `div#fat`)
- not using universal `*` selectors
- not adding units to zero values

From the beginning, every validation is meant to be completely optional and though all options are currently on by default, you can easily switch them off right from your command line:

    $ recess ./bootstrap.css --underscoresAreFine

Internally [Recess](//twitter.github.com/recess) uses the [LESS](https://github.com/cloudhead/less.js) tokenizer, so it's super fast and robust (read: not just a bunch of regex hackery).

As I mentioned above, beyond simply linting your CSS, you can alternatively also ask the tool to output the entire reformatted (and compiled) source, with cleaned up spacing, comments, property ordering, and a few other nifty things. All you need to do is add the `--compile` flag and you're good to go.

    $ recess ./application.css --compile

As an added bonus, you can also use [Recess](//twitter.github.com/recess) to compile your LESS source -- look for future releases of Bootstrap to be using this directly rather than the official LESS command line tool.

Here's an example of what Recess does:

<div class="row">
<div class="span-one-half">
<h5>LESS input</h5>
</div>
<div class="span-one-half">
<h5>Recess output</h5>
</div>
</div>

<div class="row">
<div class="span-one-half">
<pre>
.borders {
  -moz-border-radius: 2px;
  -o-border-radius: 2px;
  border-radius: 2px;
  -webkit-border-radius: 2px;
  -ms-border-radius: 2px;
}

.clearfix {
  zoom: 1;

  &:after {
  content: ".";
  display: block;
  height: 0px;
  clear: both;
  visibility: hidden;
  position: absolute;
  }
}
</pre>
</div>

<div class="span-one-half">
<pre>
.borders {
  -webkit-border-radius: 2px;
     -moz-border-radius: 2px;
      -ms-border-radius: 2px;
       -o-border-radius: 2px;
          border-radius: 2px;
}

.clearfix {
  zoom: 1;
}

.clearfix:after {
  position: absolute;
  display: block;
  height: 0;
  clear: both;
  content: ".";
  visibility: hidden;
}
</pre>
</div>
</div>

There's still more to do on this project and I hope to evolve it over time as our style guide matures.

[As always, let me know what you think on twitter](https://twitter.com/intent/tweet?screen_name=fat)!